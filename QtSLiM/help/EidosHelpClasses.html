<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1894.6">
  <style type="text/css">
    p.p1 {margin: 18.0px 0.0px 3.0px 0.0px; font: 11.0px Optima; color: #000000}
    p.p2 {margin: 6.0px 0.0px 3.0px 0.0px; font: 11.0px Optima; color: #000000}
    p.p3 {margin: 9.0px 0.0px 3.0px 36.0px; text-indent: -22.3px; font: 9.0px Menlo; color: #000000}
    p.p4 {margin: 3.0px 0.0px 3.0px 27.4px; font: 10.0px Optima; color: #000000}
    p.p5 {margin: 0.0px 0.0px 3.0px 0.0px; font: 11.0px Optima; color: #000000}
    span.s1 {font: 9.0px Menlo}
  </style>
</head>
<body>
<p class="p1"><b>5.1<span class="Apple-converted-space">  </span>Class Object</b></p>
<p class="p2"><i>5.1.1<span class="Apple-converted-space">  </span></i><span class="s1"><i>Object</i></span><i> properties</i></p>
<p class="p2"><i>5.1.2<span class="Apple-converted-space">  </span></i><span class="s1"><i>Object</i></span><i> methods</i></p>
<p class="p3">+ (integer$)length(void)</p>
<p class="p4">Returns the size (e.g., length) of the receiving object.<span class="Apple-converted-space">  </span>This is equivalent to the <span class="s1">length()</span> (or <span class="s1">size()</span>) function; in other words, for any <span class="s1">object</span> <span class="s1">x</span>, the return value of the function call <span class="s1">length(x)</span> equals the return value of the class method call <span class="s1">x.length()</span>.<span class="Apple-converted-space">  </span>This method is provided solely for syntactic convenience.<span class="Apple-converted-space">  </span>Note that <span class="s1">+length()</span> is a synonym for <span class="s1">+size()</span>.</p>
<p class="p3">+ (void)methodSignature([Ns$ methodName = NULL])</p>
<p class="p4">Prints the method signature for the method specified by <span class="s1">methodName</span>, or for all methods supported by the receiving object if <span class="s1">methodName</span> is <span class="s1">NULL</span> (the default).</p>
<p class="p3">+ (void)propertySignature([Ns$ propertyName = NULL])</p>
<p class="p4">Prints the property signature for the property specified by <span class="s1">propertyName</span>, or for all properties supported by the receiving object if <span class="s1">propertyName</span> is <span class="s1">NULL</span> (the default).</p>
<p class="p3">+ (integer$)size(void)</p>
<p class="p4">Returns the size of the receiving object.<span class="Apple-converted-space">  </span>This is equivalent to the <span class="s1">size()</span> (or <span class="s1">length()</span>) function; in other words, for any <span class="s1">object</span> <span class="s1">x</span>, the return value of the function call <span class="s1">size(x)</span> equals the return value of the class method call <span class="s1">x.size()</span>.<span class="Apple-converted-space">  </span>This method is provided solely for syntactic convenience.<span class="Apple-converted-space">  </span>Note that <span class="s1">+length()</span> is a synonym for <span class="s1">+size()</span>.</p>
<p class="p3">– (void)str(void)</p>
<p class="p4">Prints the internal property structure of the receiving object; in particular, the element type of the object is printed, followed, on successive lines, by all of the properties supported by the object, their types, and a sample of their values.</p>
<p class="p1"><b>5.2<span class="Apple-converted-space">  </span>Class Dictionary</b></p>
<p class="p3">(object&lt;Dictionary&gt;$)Dictionary(...)</p>
<p class="p4">Creates a new <span class="s1">Dictionary</span> object.<span class="Apple-converted-space">  </span>Called without arguments, as <span class="s1">Dictionary()</span>, this creates a new empty <span class="s1">Dictionary</span>.</p>
<p class="p4">Alternatively, key-value pairs can be passed to set up the initial state of the new <span class="s1">Dictionary</span>.<span class="Apple-converted-space">  </span>These are set, sequentially, on the new <span class="s1">Dictionary</span>, just as <span class="s1">setValue()</span> would do.<span class="Apple-converted-space">  </span>For example, calling <span class="s1">Dictionary("a", 0:3, "b", c("foo", "bar"))</span> is equivalent to calling <span class="s1">Dictionary()</span> and then calling <span class="s1">setValue("a", 0:3)</span> and then <span class="s1">setValue("b", c("foo", "bar"))</span> on it; it is just a shorthand for convenience.</p>
<p class="p4">Another alternative is to call <span class="s1">Dictionary()</span> with a singleton <span class="s1">Dictionary</span> as its only argument; this creates a new <span class="s1">Dictionary</span> that is a copy of the <span class="s1">Dictionary</span> passed, containing the same keys and values.<span class="Apple-converted-space">  </span>This is equivalent to creating a new empty <span class="s1">Dictionary</span> and then calling <span class="s1">addKeysAndValuesFrom()</span> to copy key-value pairs over; it is just a shorthand for convenience.</p>
<p class="p4">A final alternative is to call <span class="s1">Dictionary()</span> with a singleton <span class="s1">string</span> as its only argument; this creates a new <span class="s1">Dictionary</span> from the string, assuming that it is a data archive in JSON format.<span class="Apple-converted-space">  </span>Note that a JSON string can be generated from the <span class="s1">serialize()</span> method of <span class="s1">Dictionary</span>; together with this way of creating a <span class="s1">Dictionary</span>, this provides the ability to persist arbitrary information to a string (perhaps a file on disk) and back again.<span class="Apple-converted-space">  </span>The recreated <span class="s1">Dictionary</span> should be identical to the original, except that zero length vectors such as <span class="s1">integer(0)</span>, <span class="s1">float(0)</span>, <span class="s1">logical(0)</span>, and <span class="s1">string(0)</span> will all be serialized as <span class="s1">"[]"</span> and recreated as <span class="s1">integer(0)</span> since JSON does not provide a way to specify the type of a zero-length array.</p>
<p class="p2"><i>5.2.1<span class="Apple-converted-space">  </span></i><span class="s1"><i>Dictionary</i></span><i> properties</i></p>
<p class="p3">allKeys =&gt; (string)</p>
<p class="p4">A vector containing all of the string keys that have been assigned values using <span class="s1">setValue()</span>, in sorted (alphabetical) order.</p>
<p class="p2"><i>5.2.2<span class="Apple-converted-space">  </span></i><span class="s1"><i>Dictionary</i></span><i> methods</i></p>
<p class="p3">– (void)addKeysAndValuesFrom(object$ source)</p>
<p class="p4">Adds all of the key-value pairs contained by <span class="s1">source</span> (which must be a <span class="s1">Dictionary</span> or a subclass of <span class="s1">Dictionary</span>) to the receiver.<span class="Apple-converted-space">  </span>If the target already contains a key that is defined in <span class="s1">source</span>, the target’s value for that key will be <i>replaced</i> by the value in <span class="s1">source</span> (contrast this with <span class="s1">appendKeysAndValuesFrom()</span>).</p>
<p class="p3">– (void)appendKeysAndValuesFrom(object source)</p>
<p class="p4">Appends all of the key-value pairs contained by <span class="s1">source</span> (which must be a <span class="s1">Dictionary</span> or a subclass of <span class="s1">Dictionary</span>) to the receiver.<span class="Apple-converted-space">  </span>If the target already contains a key that is defined in source, the value from source will be <i>appended</i> to the target’s existing value, which must be of the same type (contrast this with <span class="s1">addKeysAndValuesFrom()</span>); if the target does not already contain a key that is defined in source, that key-value pair will simply be added to the target.</p>
<p class="p4">In the current implementation, it is an error for either of the values involved in an append to be a matrix or array; values in these <span class="s1">Dictionary</span> objects should be simple vectors.<span class="Apple-converted-space">  </span>This limitation preserves the future option to expand this method’s functionality to do smart things with matrices and arrays.</p>
<p class="p3">– (void)clearKeysAndValues(void)</p>
<p class="p4">Removes all key-value pairs from the receiver.</p>
<p class="p3">– (object&lt;Dictionary&gt;$)getRowValues(li index)</p>
<p class="p4">Returns a new <span class="s1">Dictionary</span> containing values for selected “rows” of the target <span class="s1">Dictionary</span>, allowing <span class="s1">Dictionary</span> to act similarly to a dataframe (see the <span class="s1">Dictionary</span> class documentation for discussion).<span class="Apple-converted-space">  </span>From this perspective, the selection logic described below works exactly as the subset operator <span class="s1">[]</span> does in Eidos, selecting the “rows” of the target <span class="s1">Dictionary</span>.</p>
<p class="p4">The <span class="s1">index</span> parameter may be either <span class="s1">integer</span> or <span class="s1">logical</span>; we will discuss the <span class="s1">integer</span> case first.<span class="Apple-converted-space">  </span>If <span class="s1">index</span> is a singleton <span class="s1">integer</span>, the returned <span class="s1">Dictionary</span> will contain the <span class="s1">index</span>’th element of the value of each key of the target, under the same keys; this is a single “row” of the target <span class="s1">Dictionary</span>.<span class="Apple-converted-space">  </span>If <span class="s1">index</span> is a non-singleton <span class="s1">integer</span> vector, the returned <span class="s1">Dictionary</span> will contain the values for all of the selected rows, in the order that they are selected by <span class="s1">index</span>.<span class="Apple-converted-space">  </span>If any index value in <span class="s1">index</span> is out of range for any key of the target <span class="s1">Dictionary</span> (such that that key does not have an <span class="s1">index</span>’th value), an error will result.</p>
<p class="p4">If <span class="s1">index</span> is <span class="s1">logical</span>, the target <span class="s1">Dictionary</span> must not be “ragged” (the length of the values for all of its keys must be equal), and the length of <span class="s1">index</span> must be equal to the number of “rows” in the target.<span class="Apple-converted-space">  </span>In this case, the <span class="s1">T</span> values in <span class="s1">index</span> select the “rows” which will be included in the returned <span class="s1">Dictionary</span>.<span class="Apple-converted-space">  </span>The values of each column in the returned <span class="s1">Dictionary</span> will be in the same order as in the target.</p>
<p class="p4">In the current implementation, it is an error for any value in the target <span class="s1">Dictionary</span> to be a matrix or array; values in the target should be simple vectors.<span class="Apple-converted-space">  </span>This limitation preserves the future option to expand this method’s functionality to do smart things with matrices and arrays.</p>
<p class="p3">– (*)getValue(string$ key)</p>
<p class="p4">Returns the value previously set for the dictionary entry identifier <span class="s1">key</span> using <span class="s1">setValue()</span>, or <span class="s1">NULL</span> if no value has been set.</p>
<p class="p3">– (logical$)identicalContents(object$ x)</p>
<p class="p4">Returns <span class="s1">T</span> if the target <span class="s1">Dictionary</span> is equal to <span class="s1">x</span> in all respects – containing the same keys, with values that are identical in the sense defined by the <span class="s1">identical()</span> function in Eidos – or returns <span class="s1">F</span> otherwise.</p>
<p class="p4">Note that if <span class="s1">Dictionary</span> objects are contained, as values, by the dictionaries being tested for equality, they will be compared according to the standards of <span class="s1">identical()</span>, and must therefore actually be the <i>same</i> <span class="s1">Dictionary</span> object, shared by both dictionaries, for <span class="s1">isEqual()</span> to return <span class="s1">T</span>.</p>
<p class="p3">– (string$)serialize([string$ format = "slim"])</p>
<p class="p4">Returns a serialized form of the dictionary’s contents as a singleton <span class="s1">string</span>.<span class="Apple-converted-space">  </span>Two formats are supported at present, as chosen with the <span class="s1">format</span> parameter: <span class="s1">"slim"</span> and <span class="s1">"json"</span>.</p>
<p class="p4">The default <span class="s1">"slim"</span> format is intended for simple, informal use where a very easily parseable string is desired.<span class="Apple-converted-space">  </span>For a simple dictionary containing only keys with singleton non-object values, this will be a semicolon-delimited string like <span class="s1">"key1=value1;key2=value2;"</span>.<span class="Apple-converted-space">  </span>Values of type <span class="s1">string</span> will be quoted, and will be escaped with backslash escape sequences, including <span class="s1">\\</span>, <span class="s1">\"</span>, <span class="s1">\'</span>, <span class="s1">\t</span>, <span class="s1">\r</span>, and <span class="s1">\n</span>.<span class="Apple-converted-space">  </span>Values that are not singleton will be separated by spaces, such as <span class="s1">"key1=1 2 3;"</span>, while values that are themselves dictionaries will be delimited by braces, such as <span class="s1">"key1={key1=value1;key2=value2;};"</span>.<span class="Apple-converted-space">  </span>Keys, since they are also of type <span class="s1">string</span>, will be quoted and backslash-escaped if necessary, but simple keys that do not require that treatment will be serialized without quotes for simplicity.</p>
<p class="p4">The <span class="s1">"json"</span> format, introduced in Eidos 2.7 (SLiM 3.7), provides serialization of the <span class="s1">Dictionary</span> into the standard JSON format, which may not be quite as brief or human-readable, but which can be used as a standard interchange format and read by many other programs.<span class="Apple-converted-space">  </span>For example, a <span class="s1">Dictionary</span> with a key <span class="s1">"key1"</span> with <span class="s1">integer</span> value <span class="s1">1:3</span> and key <span class="s1">"key2"</span> with <span class="s1">string</span> value <span class="s1">"value2"</span> would produce the JSON serialization <span class="s1">'{"key1":[1,2,3],"key2":["value2"]}'</span>, where the outer single quotes are not part of the serialization itself, but are indicating that the serialization is a <span class="s1">string</span> value.<span class="Apple-converted-space">  </span>Note that since all Eidos values are vectors, even singleton values are serialized into JSON as arrays by Eidos; the hope is that this will make automated parsing of these JSON strings easier, since the singleton case will not have to be special-cased.<span class="Apple-converted-space">  </span>Documentation on the JSON format can be found online.</p>
<p class="p3">– (void)setValue(string$ key, * value)</p>
<p class="p4">Sets a value for the dictionary entry identifier <span class="s1">key</span>.<span class="Apple-converted-space">  </span>The value, which may be of any type, can be fetched later using <span class="s1">getValue()</span>.<span class="Apple-converted-space">  </span>If <span class="s1">value</span> is of type <span class="s1">object</span>, the object class must internally be under retain-release memory management; among SLiM’s Eidos classes, only <span class="s1">Chromosome</span>, <span class="s1">Mutation</span>, and <span class="s1">Substitution</span> presently are (see the Eidos manual’s documentation for <span class="s1">defineConstant()</span> for further discussion).<span class="Apple-converted-space">  </span>Setting a key to a value of <span class="s1">NULL</span> removes that key from the dictionary.</p>
<p class="p1"><b>5.3<span class="Apple-converted-space">  </span>Class Image</b></p>
<p class="p3">(object&lt;Image&gt;$)Image(string$ filePath)</p>
<p class="p4">Creates a new <span class="s1">Image</span> object from the PNG file at <span class="s1">filePath</span>.<span class="Apple-converted-space">  </span>If the file represents a grayscale image, an 8-bit grayscale (K) <span class="s1">Image</span> will be created; all other PNG files will yield a 24-bit color (RGB) <span class="s1">Image</span>.</p>
<p class="p2"><i>5.3.1<span class="Apple-converted-space">  </span></i><span class="s1"><i>Image</i></span><i> properties</i></p>
<p class="p3">width =&gt; (integer$)</p>
<p class="p4">The width of the image, in pixels.</p>
<p class="p3">height =&gt; (integer$)</p>
<p class="p4">The height of the image, in pixels.</p>
<p class="p3">isGrayscale =&gt; (logical$)</p>
<p class="p4">This flag is <span class="s1">T</span> if the image is grayscale, with only a K channel; it is <span class="s1">F</span> if the image is color, with R/G/B channels.</p>
<p class="p3">bitsPerChannel =&gt; (integer$)</p>
<p class="p4">The number of bits used to represent a single pixel, in one channel of the image.<span class="Apple-converted-space">  </span>At present this is always 8; grayscale (K) images are 8-bit, color (RGB) images are 24-bit.<span class="Apple-converted-space">  </span>It could be extended to support 16-bit channels in future.</p>
<p class="p3">integerR =&gt; (integer)</p>
<p class="p4">The red (R) channel of the image, represented as a 2D <span class="s1">integer</span> matrix.<span class="Apple-converted-space">  </span>Values will be in [0,255].<span class="Apple-converted-space">  </span>See the <span class="s1">floatR</span> property for an alternative representation.<span class="Apple-converted-space">  </span>If the image is grayscale, this property is unavailable.</p>
<p class="p3">integerG =&gt; (integer)</p>
<p class="p4">The green (G) channel of the image, represented as a 2D <span class="s1">integer</span> matrix.<span class="Apple-converted-space">  </span>Values will be in [0,255].<span class="Apple-converted-space">  </span>See the <span class="s1">floatG</span> property for an alternative representation.<span class="Apple-converted-space">  </span>If the image is grayscale, this property is unavailable.</p>
<p class="p3">integerB =&gt; (integer)</p>
<p class="p4">The blue (R) channel of the image, represented as a 2D <span class="s1">integer</span> matrix.<span class="Apple-converted-space">  </span>Values will be in [0,255].<span class="Apple-converted-space">  </span>See the <span class="s1">floatB</span> property for an alternative representation.<span class="Apple-converted-space">  </span>If the image is grayscale, this property is unavailable.</p>
<p class="p3">integerK =&gt; (integer)</p>
<p class="p4">The gray (K) channel of the image, represented as a 2D <span class="s1">integer</span> matrix.<span class="Apple-converted-space">  </span>Values will be in [0,255].<span class="Apple-converted-space">  </span>See the <span class="s1">floatK</span> property for an alternative representation.<span class="Apple-converted-space">  </span>If the image is color, this property is unavailable.</p>
<p class="p3">floatR =&gt; (float)</p>
<p class="p4">The red (R) channel of the image, represented as a 2D <span class="s1">float</span> matrix.<span class="Apple-converted-space">  </span>Values will be in [0,1].<span class="Apple-converted-space">  </span>See the <span class="s1">integerR</span> property for an alternative representation.<span class="Apple-converted-space">  </span>If the image is grayscale, this property is unavailable.</p>
<p class="p3">floatG =&gt; (float)</p>
<p class="p4">The green (G) channel of the image, represented as a 2D <span class="s1">float</span> matrix.<span class="Apple-converted-space">  </span>Values will be in [0,1].<span class="Apple-converted-space">  </span>See the <span class="s1">integerG</span> property for an alternative representation.<span class="Apple-converted-space">  </span>If the image is grayscale, this property is unavailable.</p>
<p class="p3">floatB =&gt; (float)</p>
<p class="p4">The blue (B) channel of the image, represented as a 2D <span class="s1">float</span> matrix.<span class="Apple-converted-space">  </span>Values will be in [0,1].<span class="Apple-converted-space">  </span>See the <span class="s1">integerB</span> property for an alternative representation.<span class="Apple-converted-space">  </span>If the image is grayscale, this property is unavailable.</p>
<p class="p3">floatK =&gt; (float)</p>
<p class="p4">The gray (K) channel of the image, represented as a 2D <span class="s1">float</span> matrix.<span class="Apple-converted-space">  </span>Values will be in [0,1].<span class="Apple-converted-space">  </span>See the <span class="s1">integerK</span> property for an alternative representation.<span class="Apple-converted-space">  </span>If the image is color, this property is unavailable.</p>
<p class="p5"><i>5.3.2<span class="Apple-converted-space">  </span></i><span class="s1"><i>Image</i></span><i> methods</i></p>
</body>
</html>
